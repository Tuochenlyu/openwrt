
Applying ./patches/010-fix-rpmatch.patch using plaintext: 
patching file include/common.h
Hunk #1 succeeded at 137 (offset 15 lines).

Applying ./patches/100-fix_includes.patch using plaintext: 
patching file lib/libfec.c
patching file serve_image.c
patching file recv_image.c

Applying ./patches/130-lzma_jffs2.patch using plaintext: 
patching file Makefile
patching file compr.c
patching file compr.h
patching file compr_lzma.c
patching file include/linux/jffs2.h
patching file include/linux/lzma.h
patching file include/linux/lzma/LzFind.h
patching file include/linux/lzma/LzHash.h
patching file include/linux/lzma/LzmaDec.h
patching file include/linux/lzma/LzmaEnc.h
patching file include/linux/lzma/Types.h
patching file lzma/LzFind.c
patching file lzma/LzmaDec.c
patching file lzma/LzmaEnc.c
patching file mkfs.jffs2.c
make[4]: Entering directory `/media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1'
  CHK     include/version.h
  CC      ftl_format.o
  CC      lib/libmtd.o
  CC      lib/libmtd_legacy.o
  CC      lib/libcrc32.o
  CC      lib/libfec.o
  AR      lib/libmtd.a
  LD      ftl_format
  CC      flash_erase.o
  LD      flash_erase
  CC      nanddump.o
  LD      nanddump
  CC      doc_loadbios.o
  LD      doc_loadbios
  CC      ftl_check.o
  LD      ftl_check
  CC      mkfs.jffs2.o
  CC      compr_rtime.o
  CC      compr_zlib.o
  CC      compr_lzma.o
In file included from compr_lzma.c:10:0:
./include/linux/lzma.h: In function 'p_lzma_malloc':
./include/linux/lzma.h:45:34: warning: unused parameter 'p' [-Wunused-parameter]
 static void *p_lzma_malloc(void *p, size_t size)
                                  ^
./include/linux/lzma.h: In function 'p_lzma_free':
./include/linux/lzma.h:53:31: warning: unused parameter 'p' [-Wunused-parameter]
 static void p_lzma_free(void *p, void *address)
                               ^
compr_lzma.c: In function 'jffs2_lzma_compress':
compr_lzma.c:50:55: warning: unused parameter 'model' [-Wunused-parameter]
          uint32_t *sourcelen, uint32_t *dstlen, void *model)
                                                       ^
compr_lzma.c: In function 'jffs2_lzma_decompress':
compr_lzma.c:75:47: warning: unused parameter 'model' [-Wunused-parameter]
      uint32_t srclen, uint32_t destlen, void *model)
                                               ^
compr_lzma.c: At top level:
compr_lzma.c:95:2: warning: initialization from incompatible pointer type [enabled by default]
  .compress = &jffs2_lzma_compress,
  ^
compr_lzma.c:95:2: warning: (near initialization for 'jffs2_lzma_comp.compress') [enabled by default]
compr_lzma.c:96:2: warning: initialization from incompatible pointer type [enabled by default]
  .decompress = &jffs2_lzma_decompress,
  ^
compr_lzma.c:96:2: warning: (near initialization for 'jffs2_lzma_comp.decompress') [enabled by default]
  CC      lzma/LzFind.o
  CC      lzma/LzmaEnc.o
lzma/LzmaEnc.c: In function 'LzmaEnc_Alloc':
lzma/LzmaEnc.c:1977:8: warning: variable 'btMode' set but not used [-Wunused-but-set-variable]
   Bool btMode;
        ^
lzma/LzmaEnc.c: In function 'LzmaEnc_Finish':
lzma/LzmaEnc.c:2149:36: warning: unused parameter 'pp' [-Wunused-parameter]
 void LzmaEnc_Finish(CLzmaEncHandle pp)
                                    ^
  CC      lzma/LzmaDec.o
  CC      compr.o
  CC      rbtree.o
  LD      mkfs.jffs2
  CC      flash_lock.o
  LD      flash_lock
  CC      flash_unlock.o
  LD      flash_unlock
  CC      flash_otp_info.o
  LD      flash_otp_info
  CC      flash_otp_dump.o
  LD      flash_otp_dump
  CC      flash_otp_lock.o
  LD      flash_otp_lock
  CC      flash_otp_write.o
  LD      flash_otp_write
  CC      mtd_debug.o
  LD      mtd_debug
  CC      flashcp.o
flashcp.c: In function 'main':
flashcp.c:255:2: warning: #warning "Check for smaller erase regions" [-Wcpp]
 #warning "Check for smaller erase regions"
  ^
  LD      flashcp
  CC      nandwrite.o
  LD      nandwrite
  CC      nandtest.o
  LD      nandtest
  CC      jffs2dump.o
  LD      jffs2dump
  CC      nftldump.o
  LD      nftldump
  CC      nftl_format.o
  LD      nftl_format
  CC      docfdisk.o
docfdisk.c: In function 'main':
docfdisk.c:268:12: warning: 'ip' may be used uninitialized in this function [-Wmaybe-uninitialized]
  ip->flags = cpu_to_le32(INFTL_BINARY | INFTL_LAST);
            ^
  LD      docfdisk
  CC      rfddump.o
  LD      rfddump
  CC      rfdformat.o
  LD      rfdformat
  CC      serve_image.o
  LD      serve_image
  CC      recv_image.o
  LD      recv_image
  CC      sumtool.o
  LD      sumtool
  CC      jffs2reader.o
  LD      jffs2reader
  CC      mkfs.ubifs/mkfs.ubifs.o
  CC      mkfs.ubifs/crc16.o
  CC      mkfs.ubifs/lpt.o
  CC      mkfs.ubifs/compr.o
  CC      mkfs.ubifs/devtable.o
  CC      mkfs.ubifs/hashtable/hashtable.o
  CC      mkfs.ubifs/hashtable/hashtable_itr.o
  CC      ubi-utils/libubi.o
  AR      ubi-utils/libubi.a
  LD      mkfs.ubifs/mkfs.ubifs
  CC      ubi-utils/ubiupdatevol.o
  CC      ubi-utils/ubiutils-common.o
  LD      ubi-utils/ubiupdatevol
  CC      ubi-utils/ubimkvol.o
  LD      ubi-utils/ubimkvol
  CC      ubi-utils/ubirmvol.o
  LD      ubi-utils/ubirmvol
  CC      ubi-utils/ubicrc32.o
  LD      ubi-utils/ubicrc32
  CC      ubi-utils/ubinfo.o
  LD      ubi-utils/ubinfo
  CC      ubi-utils/ubiattach.o
  LD      ubi-utils/ubiattach
  CC      ubi-utils/ubidetach.o
  LD      ubi-utils/ubidetach
  CC      ubi-utils/ubinize.o
  CC      ubi-utils/libubigen.o
  AR      ubi-utils/libubigen.a
  CC      ubi-utils/libiniparser.o
  CC      ubi-utils/dictionary.o
  AR      ubi-utils/libiniparser.a
  LD      ubi-utils/ubinize
  CC      ubi-utils/ubiformat.o
  CC      ubi-utils/libscan.o
  AR      ubi-utils/libscan.a
  LD      ubi-utils/ubiformat
  CC      ubi-utils/ubirename.o
  LD      ubi-utils/ubirename
  CC      ubi-utils/mtdinfo.o
  LD      ubi-utils/mtdinfo
  CC      ubi-utils/ubirsvol.o
  LD      ubi-utils/ubirsvol
  CC      ubi-utils/ubiblock.o
  LD      ubi-utils/ubiblock
make[4]: Leaving directory `/media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1'
make[4]: Entering directory `/media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1'
  CHK     include/version.h
mkdir -p /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-install//usr/sbin
install -m 0755 /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ftl_format /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/flash_erase /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/nanddump /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/doc_loadbios /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ftl_check /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/mkfs.jffs2 /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/flash_lock /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/flash_unlock /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/flash_otp_info /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/flash_otp_dump /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/flash_otp_lock /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/flash_otp_write /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/mtd_debug /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/flashcp /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/nandwrite /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/nandtest /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/jffs2dump /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/nftldump /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/nftl_format /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/docfdisk /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/rfddump /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/rfdformat /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/serve_image /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/recv_image /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/sumtool /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/jffs2reader /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/mkfs.ubifs/mkfs.ubifs /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/ubiupdatevol /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/ubimkvol /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/ubirmvol /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/ubicrc32 /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/ubinfo /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/ubiattach /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/ubidetach /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/ubinize /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/ubiformat /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/ubirename /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/mtdinfo /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/ubirsvol /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ubi-utils/ubiblock flash_eraseall /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-install//usr/sbin/
mkdir -p /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-install//usr/share/man/man1
install -m 0644 mkfs.jffs2.1 /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-install//usr/share/man/man1/
gzip -9f /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-install//usr/share/man/man1/*.1
make[4]: Leaving directory `/media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1'
rstrip.sh: /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils/usr/sbin/ubiattach:executable
rstrip.sh: /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils/usr/sbin/ubirmvol:executable
rstrip.sh: /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils/usr/sbin/ubinize:executable
rstrip.sh: /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils/usr/sbin/ubimkvol:executable
rstrip.sh: /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils/usr/sbin/ubiblock:executable
rstrip.sh: /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils/usr/sbin/ubirename:executable
rstrip.sh: /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils/usr/sbin/ubiformat:executable
rstrip.sh: /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils/usr/sbin/ubicrc32:executable
rstrip.sh: /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils/usr/sbin/ubinfo:executable
rstrip.sh: /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils/usr/sbin/ubiupdatevol:executable
rstrip.sh: /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils/usr/sbin/ubidetach:executable
rstrip.sh: /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils/usr/sbin/ubirsvol:executable
Packaged contents of /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/build_dir/target-mips_34kc_uClibc-0.9.33.2/ubi-utils/ubi-utils-1.5.1/ipkg-ar71xx/ubi-utils into /media/tuochenvm/ubuntu_ext/git/tuochenlyu/openwrt/bin/ar71xx/packages/base/ubi-utils_1.5.1-2_ar71xx.ipk
